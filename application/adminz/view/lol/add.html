{extend name="public/base" /}
{block name='css'}

{/block}
{block name="content"}
    <div class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">添加赛事</h3>
                        <div class="pull-right">
                            <a href="{:url('lol/index')}" class="btn btn-link btn-sm"><i class="fa fa-angle-double-left"></i>&nbsp;返回列表</a>
                        </div>
                    </div>
                    <ul class="nav nav-tabs">
                        <li class="active" data-id="tab_base"><a href="javascript:;">基础信息</a></li>
                    </ul>
                    <form id="form_submit" enctype="multipart/form-data" class="layui-form layui-form-pane" action="" method="post">
                        <div class="box-body" id="tab_base">
                            <div class="layui-form-item">
                                <label class="layui-form-label">比赛名称</label>
                                <div class="layui-input-block">
                                    <input type="text" datatype="*" nullmsg="请输入比赛名称"  name="game_name" lay-verify="required" class="layui-input" placeholder="比赛名称" >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">队伍1</label>
                                <div class="layui-input-block">
                                    <input type="text" datatype="*" nullmsg="请输入队伍1"  name="team1" lay-verify="required" class="layui-input" placeholder="队伍1" >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">队伍2</label>
                                <div class="layui-input-block">
                                    <input type="text" datatype="*" nullmsg="请输入队伍2"  name="team2" lay-verify="required" class="layui-input" placeholder="队伍2" >
                                </div>
                            </div>
                            <div class="layui-form-item" id="odds">
                                <label class="layui-form-label">队伍1赔率</label>
                                <div class="layui-input-block">
                                    <input type="text" datatype="*" nullmsg="请输入队伍1"  name="team1_odds" lay-verify="required" class="layui-input" placeholder="队伍1赔率" >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">开始时间</label>
                                <div class="layui-input-block">
                                    <input type="text" datatype="*" nullmsg="请输入比赛开始时间" id="date" name="start_time" lay-verify="required" class="layui-input" placeholder="比赛开始时间" >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">视频地址</label>
                                <div class="layui-input-block">
                                    <input type="text" name="url" lay-verify="required" class="layui-input" placeholder="视频地址" >
                                </div>
                            </div>
                            <div class="layui-form-item">
                                <label class="layui-form-label">比赛局数</label>
                                <div class="layui-input-block">
                                    <select lay-filter="bo" name='bo'>
                                        <option value="0">请选择</option>
                                        <option value="3">BO3</option>
                                        <option value="5">BO5</option>
                                    </select>
                                </div>
                            </div>

                            <div id="bo">
                                
                            </div>

                            <div class="layui-form-item" pane="">
                                <label class="layui-form-label">状态</label>
                                <div class="layui-input-block">
                                    <input type="radio" name="status" value="0" title="未开始" checked="">
                                    <input type="radio" name="status" value="1" title="竞猜中">
                                    <input type="radio" name="status" value="2" title="封盘">
                                </div>
                            </div>
                        </div></div>
                        <div class="layui-input-block">
                            <button type="submit" class="layui-btn">添加</button>
                            <label for="jump_list" style="margin-left: 15px;"><input type="checkbox" data-url="{:url('lol/index')}" id="jump_list" value="1" >返回列表页</label>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{/block}
{block name="js"}
<script>
layui.use(['form', 'layedit', 'laydate','upload','table'], function(){
    var form = layui.form
    ,layer = layui.layer
    ,layedit = layui.layedit
    ,laydate = layui.laydate
    ,upload = layui.upload;

    var table = layui.table; 
    //日期
    laydate.render({
        elem: '#date'
        ,type: 'datetime'
    });
    laydate.render({
        elem: '#date1'
        ,type: 'datetime'
    }); 
    laydate.render({
        elem: '#cate_id'
    });
    form.on('select(bo)', function(data){
        if(data.value == 0){
            $("#bo").empty();
        }
        if(data.value == 3){
            $("#bo").empty();
            $("#odds").remove();
            $("#bo").html('<div class="layui-form-item"><label class="layui-form-label">0:2--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="0:2"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">1:2--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="1:2"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">2:0--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="2:0"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">2:1--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="2:1"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div>');
        }
        if(data.value == 5){
            $("#bo").empty();
            $("#odds").remove();
            $("#bo").html('<div class="layui-form-item"><label class="layui-form-label">0:3--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="0:3"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">1:3--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="1:3"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">2:3--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="2:3"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">3:0--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="3:0"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">3:1--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="3:1"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div><div class="layui-form-item"><label class="layui-form-label">3:2--赔率</label><div class="layui-input-block"><input type="hidden" name="bo_name[]" value="3:2"><input type="text" name="odds[]" class="layui-input" placeholder="赔率" ></div></div>');
        }
    });
})
</script>
{/block}


